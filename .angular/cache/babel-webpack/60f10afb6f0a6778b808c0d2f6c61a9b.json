{"ast":null,"code":"import { faIndustry, faSlidersH } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../energy.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@fortawesome/angular-fontawesome\";\n\nfunction MenuComponent_li_11_ul_5_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"input\", 9);\n    i0.ɵɵlistener(\"change\", function MenuComponent_li_11_ul_5_li_1_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const childItem_r4 = restoredCtx.$implicit;\n      const item_r1 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.onChanceSourceChild($event, item_r1.index, childItem_r4.index);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 10);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const childItem_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", \"energysourcechild\" + childItem_r4.index);\n    i0.ɵɵproperty(\"checked\", childItem_r4.available);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", childItem_r4.description);\n    i0.ɵɵpropertyInterpolate(\"for\", \"energysourcechild\" + childItem_r4.index);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(childItem_r4.name);\n  }\n}\n\nfunction MenuComponent_li_11_ul_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, MenuComponent_li_11_ul_5_li_1_Template, 5, 5, \"li\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r1.childrenSource);\n  }\n}\n\nfunction MenuComponent_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"input\", 9);\n    i0.ɵɵlistener(\"change\", function MenuComponent_li_11_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.onChanceSource($event, item_r1.index);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 10);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, MenuComponent_li_11_ul_5_Template, 2, 1, \"ul\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", \"energysource\" + item_r1.index);\n    i0.ɵɵproperty(\"checked\", item_r1.available);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", item_r1.description);\n    i0.ɵɵpropertyInterpolate(\"for\", \"energysource\" + item_r1.index);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.childrenSource.length > 0);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    show: a0\n  };\n};\n\nexport let MenuComponent = /*#__PURE__*/(() => {\n  class MenuComponent {\n    constructor(energyService) {\n      this.energyService = energyService;\n      this.faIndustry = faIndustry;\n      this.faSlidersH = faSlidersH;\n      this.energyList = [];\n      this.allItemChecked = false;\n      this.showEnergySouceItems = false;\n      this.showConfiguarition = false;\n    }\n\n    ngOnInit() {\n      this.energyList = this.energyService.getEnergyListAllItems(); //this.energyList = this.energyList.filter(f => f.childrenSource = f.childrenSource.filter(fc => fc.available));\n      //check if all building are checked\n\n      this.allItemChecked = this.getItemsSelectedStatus();\n      this.hideConfigurationMenu = this.energyService.closeConfigurationMenu.subscribe(() => {\n        this.showConfiguarition = false;\n      });\n    }\n\n    getItemsSelectedStatus() {\n      //check the status of the all items if they are selected or not\n      return this.energyList.filter(e => e.available === true).length === this.energyList.length;\n    }\n\n    onChanceAllSource() {\n      //change all building either to selected or not selected mode\n      this.allItemChecked = !this.allItemChecked;\n      this.energyService.updateEnergyAllItems(this.allItemChecked);\n      this.energyList.forEach(item => {\n        item.available = this.allItemChecked;\n\n        if (item.childrenSource.length > 0) {\n          item.childrenSource.forEach(element => {\n            element.available = this.allItemChecked;\n          });\n        }\n      });\n    }\n\n    onChanceSource(event, index) {\n      //change de status selected\n      let itemIndex = this.energyList.findIndex(item => item.index == index);\n      this.energyList[itemIndex].available = event.target.checked;\n      if (event.target.checked == false) this.energyList[itemIndex].childrenSource.forEach(item => item.available = event.target.checked);\n      this.energyService.updateEnergyAvailableItem(this.energyList[itemIndex]);\n      this.allItemChecked = !event.target.checked ? false : this.getItemsSelectedStatus();\n    }\n\n    onChanceSourceChild(event, index, indexChild) {\n      //change de status selected\n      let itemIndex = this.energyList.findIndex(item => item.index == index);\n      let itemIndexChild = this.energyList[itemIndex].childrenSource.findIndex(itemChild => itemChild.index == indexChild);\n      this.energyList[itemIndex].childrenSource[itemIndexChild].available = event.target.checked;\n      this.energyService.updateEnergyAvailableChild(this.energyList[itemIndex]);\n      this.allItemChecked = !event.target.checked ? false : this.getItemsSelectedStatus();\n    }\n\n    ngOnDestroy() {\n      this.hideConfigurationMenu.unsubscribe();\n    }\n\n  }\n\n  MenuComponent.ɵfac = function MenuComponent_Factory(t) {\n    return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.EnergyService));\n  };\n\n  MenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MenuComponent,\n    selectors: [[\"app-menu\"]],\n    decls: 16,\n    vars: 13,\n    consts: [[1, \"sidebar\"], [1, \"sidebar-item\", 3, \"ngClass\"], [2, \"color\", \"#0B70B8\", 3, \"icon\"], [1, \"link-title\", 3, \"click\"], [1, \"parentUlDiv\", 3, \"ngClass\"], [\"type\", \"checkbox\", \"id\", \"allSource\", 3, \"checked\", \"change\"], [\"title\", \"All Buildings\", \"for\", \"allSource\", 1, \"checkbox-title\"], [4, \"ngFor\", \"ngForOf\"], [\"data-bs-toggle\", \"offcanvas\", \"href\", \"#offcanvasRight\", \"role\", \"button\", \"aria-controls\", \"offcanvasRight\", 1, \"link-title\", 3, \"click\"], [\"type\", \"checkbox\", 3, \"id\", \"checked\", \"change\"], [1, \"checkbox-title\", 3, \"title\", \"for\"], [4, \"ngIf\"]],\n    template: function MenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ul\", 0);\n        i0.ɵɵelementStart(1, \"li\", 1);\n        i0.ɵɵelement(2, \"fa-icon\", 2);\n        i0.ɵɵelementStart(3, \"a\", 3);\n        i0.ɵɵlistener(\"click\", function MenuComponent_Template_a_click_3_listener() {\n          return ctx.showEnergySouceItems = !ctx.showEnergySouceItems;\n        });\n        i0.ɵɵtext(4, \"Energy Source\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ul\", 4);\n        i0.ɵɵelementStart(6, \"li\");\n        i0.ɵɵelementStart(7, \"input\", 5);\n        i0.ɵɵlistener(\"change\", function MenuComponent_Template_input_change_7_listener() {\n          return ctx.onChanceAllSource();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"label\", 6);\n        i0.ɵɵelementStart(9, \"span\");\n        i0.ɵɵtext(10, \"All Sources\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, MenuComponent_li_11_Template, 6, 6, \"li\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"li\", 1);\n        i0.ɵɵelement(13, \"fa-icon\", 2);\n        i0.ɵɵelementStart(14, \"a\", 8);\n        i0.ɵɵlistener(\"click\", function MenuComponent_Template_a_click_14_listener() {\n          return ctx.showConfiguarition = !ctx.showConfiguarition;\n        });\n        i0.ɵɵtext(15, \"Configuration\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.showEnergySouceItems));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"icon\", ctx.faIndustry);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c1, ctx.showEnergySouceItems));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"checked\", ctx.allItemChecked);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.energyList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx.showConfiguarition));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"icon\", ctx.faSlidersH);\n      }\n    },\n    directives: [i2.NgClass, i3.FaIconComponent, i2.NgForOf, i2.NgIf],\n    styles: [\"ul.sidebar[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;background-color:#fff;min-width:180px;width:200px}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 15px;border-left:5px solid transparent;font-size:14px}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{background-color:transparent;list-style-type:none;margin:0;padding:0}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.parentUlDiv[_ngcontent-%COMP%]{display:none}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{display:block!important}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;margin:0;padding:0}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon-title[_ngcontent-%COMP%]{color:#92929d;cursor:pointer}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{color:#92929d;float:right}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .link-title[_ngcontent-%COMP%]{padding-left:12px;color:#92929d;text-decoration:none}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-title[_ngcontent-%COMP%]{cursor:pointer;position:relative;align-items:center;color:#92929d;display:flex}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:80%}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked), ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{position:absolute;left:-9999px}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before, ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{content:\\\"\\\";display:inline-block;width:14px;height:14px;border:1px solid #92929D;box-sizing:border-box;border-radius:3px;margin-right:8px}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after, ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:\\\"\\\\f00c\\\";font-family:fontawesome;font-size:16px;display:flex;height:100%;align-items:center;position:absolute;top:-1px;left:2px;color:#92929d;text-shadow:0px -1px 0px #fff;transform-origin:center center}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{transform:scaleY(0)}ul.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{transform:scale(1);transition-property:all;transition-duration:.2s;transition-timing-function:linear;transition-delay:0s}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{transition:background-color .3s;background-color:#f2f7ff;border-left:5px solid #275DAD}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .icon-title[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .link-title[_ngcontent-%COMP%]{color:#0b70b8;font-weight:500;cursor:pointer}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .icon-right[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .checkbox-title[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before, ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{border:1px solid #275DAD}ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after, ul.sidebar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:\\\"\\\\f00c\\\";font-family:fontawesome;color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active){transition:background-color .3s;background-color:#f2f7ff;border-left:5px solid #275DAD}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   .icon-title[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   .link-title[_ngcontent-%COMP%]{color:#0b70b8;cursor:pointer}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   .icon-right[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   .checkbox-title[_ngcontent-%COMP%]{color:#0b70b8}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before, ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{border:1px solid #275DAD}ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after, ul.sidebar[_ngcontent-%COMP%]   li.sidebar-item[_ngcontent-%COMP%]:hover:not(.active)   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:\\\"\\\\f00c\\\";font-family:fontawesome;color:#0b70b8}\"]\n  });\n  return MenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}